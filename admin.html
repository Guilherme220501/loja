<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Área Administrativa</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        header {
            background-color: darkblue;
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
        }
        table th, table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        table th {
            background-color: #007BFF;
            color: white;
        }
        form {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        form input, form select, form button {
            padding: 10px;
            font-size: 16px;
        }
        form button {
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        form button:hover {
            background-color: #218838;
        }
        .action-btn {
            padding: 8px 12px;
            font-size: 14px;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .edit-btn {
            background-color: #007BFF;
        }
        .edit-btn:hover {
            background-color: #0056b3;
        }
        .delete-btn {
            background-color: #dc3545;
        }
        .delete-btn:hover {
            background-color: #c82333;
        }
    </style>
</head>
<body>
    <header>
        <h1>Área Administrativa</h1>
    </header>

    <!-- Tabela de Produtos -->
    <h2>Produtos</h2>
    <table id="products-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Descrição</th>
                <th>Preço (R$)</th>
                <th>Estoque</th>
                <th>Categoria</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <!-- Os produtos serão carregados aqui -->
        </tbody>
    </table>

    <!-- Formulário de Adicionar/Editar Produtos -->
    <h2>Adicionar/Editar Produto</h2>
    <form id="product-form">
        <input type="hidden" id="product-id" />
        <input type="text" id="product-name" placeholder="Nome do Produto" required />
        <textarea id="product-description" placeholder="Descrição" required></textarea>
        <input type="number" id="product-price" placeholder="Preço (R$)" required />
        <input type="number" id="product-stock" placeholder="Quantidade em Estoque" required />
        <select id="product-category" required>
            <option value="">Selecione uma Categoria</option>
            <option value="materiais">Materiais</option>
            <option value="ferramentas">Ferramentas</option>
            <option value="hidraulicas">Hidráulicas</option>
        </select>
        <button type="submit">Salvar</button>
    </form>

    <script>
        // Produtos iniciais
        let products = [
            { id: 1, name: 'Cimento', description: 'Cimento de alta resistência', price: 30, stock: 20, category: 'materiais' },
            { id: 2, name: 'Martelo', description: 'Martelo para construção', price: 25, stock: 15, category: 'ferramentas' }
        ];

        // Função para carregar a tabela
        function loadTable() {
            const tableBody = document.querySelector('#products-table tbody');
            tableBody.innerHTML = '';

            products.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${product.id}</td>
                    <td>${product.name}</td>
                    <td>${product.description}</td>
                    <td>R$ ${product.price.toFixed(2)}</td>
                    <td>${product.stock}</td>
                    <td>${product.category}</td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editProduct(${product.id})">Editar</button>
                        <button class="action-btn delete-btn" onclick="deleteProduct(${product.id})">Excluir</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Função para adicionar ou editar produto
        document.getElementById('product-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const id = document.getElementById('product-id').value;
            const name = document.getElementById('product-name').value;
            const description = document.getElementById('product-description').value;
            const price = parseFloat(document.getElementById('product-price').value);
            const stock = parseInt(document.getElementById('product-stock').value);
            const category = document.getElementById('product-category').value;

            if (id) {
                // Editar produto
                const product = products.find(p => p.id === parseInt(id));
                product.name = name;
                product.description = description;
                product.price = price;
                product.stock = stock;
                product.category = category;
            } else {
                // Adicionar novo produto
                const newProduct = {
                    id: products.length ? products[products.length - 1].id + 1 : 1,
                    name,
                    description,
                    price,
                    stock,
                    category
                };
                products.push(newProduct);
            }

            // Limpar formulário e recarregar tabela
            document.getElementById('product-form').reset();
            document.getElementById('product-id').value = '';
            loadTable();
        });

        // Função para editar produto
        function editProduct(id) {
            const product = products.find(p => p.id === id);
            document.getElementById('product-id').value = product.id;
            document.getElementById('product-name').value = product.name;
            document.getElementById('product-description').value = product.description;
            document.getElementById('product-price').value = product.price;
            document.getElementById('product-stock').value = product.stock;
            document.getElementById('product-category').value = product.category;
        }

        // Função para excluir produto
        function deleteProduct(id) {
            products = products.filter(p => p.id !== id);
            loadTable();
        }

        // Carregar tabela inicialmente
        loadTable();
    </script>
</body>
</html>